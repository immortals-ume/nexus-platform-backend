# Production Environment Configuration
spring:
  profiles:
    active: git
  cloud:
    config:
      server:
        git:
          uri: ${GIT_REPO_URI}
          username: ${GIT_USERNAME}
          password: ${GIT_PASSWORD}
          default-label: main
          clone-on-start: true
          timeout: 15
          force-pull: true
  security:
    user:
      name: ${CONFIG_SERVER_USERNAME}
      password: ${CONFIG_SERVER_PASSWORD}

server:
  port: 8888

eureka:
  client:
    service-url:
      defaultZone: ${EUREKA_SERVER_URL}
  instance:
    prefer-ip-address: true
    instance-id: ${spring.application.name}:${spring.application.instance_id:${random.value}}

# Logging - minimal verbosity in production
logging:
  level:
    root: WARN
    org.springframework.cloud.config: INFO
    com.example.config: INFO

# Observability - low sampling in production
platform:
  observability:
    tracing:
      enabled: true
      sampling-rate: 0.1  # 10% sampling in production
      zipkin-url: ${ZIPKIN_URL}
    logging:
      format: json  # JSON format for production
      level: INFO

# Resilience4j - production settings
resilience4j:
  retry:
    configs:
      default:
        max-attempts: 3
        wait-duration: 100ms
        exponential-backoff-multiplier: 2
  timelimiter:
    configs:
      default:
        timeout-duration: 5s
        cancel-running-future: true
